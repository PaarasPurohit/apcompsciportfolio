---
keywords: fastai
description: Using JavaScript to Create Games using Phaser, by Paaras Purohit
title: Paaras Purohit - Game Development with JavaScript - Phaser.js
toc: true
categories: []
permalink: /game-dev-w-phaser-javascript
tags: []
nb_path: _notebooks/2023-06-20-phasertutorial.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-06-20-phasertutorial.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Before-Moving-On...">Before Moving On...<a class="anchor-link" href="#Before-Moving-On..."> </a></h3><p>WGET this notebook. Answer these questions and all other questions/activites that follow.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Warm-Up">Warm Up<a class="anchor-link" href="#Warm-Up"> </a></h3><ul>
<li><p>What is your favourite video game?</p>
</li>
<li><p>What are some things you know about game development?</p>
</li>
<li><p>How do you think JavaScript relates to game development?</p>
</li>
<li><p>How can you connect game development to what you already know to computer science?</p>
</li>
<li><p>What is a game engine? Why do we use them?</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Phaser">Phaser<a class="anchor-link" href="#Phaser"> </a></h3><p>As discussed above, it is best to use a game engine when developing games. We will use Phaser for our game development.</p>
<ul>
<li><p>Phaser.js is an open-source game development framework for creating web-based games.</p>
</li>
<li><p>It is written in JavaScript and utilizes the HTML5 Canvas and WebGL technologies.</p>
</li>
<li><p>Phaser.js provides a range of features and tools to facilitate game development, including sprite management, animation support, physics simulation, and input handling.</p>
</li>
<li><p>It supports multiple platforms, including desktop and mobile devices, and is compatible with major web browsers.</p>
</li>
<li><p>The framework offers a comprehensive set of APIs and plugins that enable developers to create interactive and engaging games.</p>
</li>
<li><p>Phaser.js follows a component-based architecture, making it flexible and modular for creating complex game systems.</p>
</li>
<li><p>It provides a robust set of tools for handling audio, user interfaces, and game logic.</p>
</li>
<li><p>Phaser.js has an active and supportive community, with extensive documentation, tutorials, and examples available.</p>
</li>
<li><p>It is suitable for both beginners and experienced developers, allowing them to rapidly prototype and build games.</p>
</li>
<li><p>Phaser.js has gained popularity among indie game developers and is widely used for developing 2D games for the web.</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Getting-Started-with-Phaser">Getting Started with Phaser<a class="anchor-link" href="#Getting-Started-with-Phaser"> </a></h1><p>Since we, on our systems, use NodeJS, we will install Phaser for NodeJS. To do that, go into your Leuck Reunion project directory and run the following commands:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">base</span><span class="p">)</span> <span class="n">user_name</span><span class="nd">@device_name</span><span class="p">:</span><span class="o">~/</span><span class="n">vscode</span><span class="o">/</span><span class="n">project</span><span class="err">$</span> <span class="n">npm</span> <span class="n">init</span> <span class="o">-</span><span class="n">y</span>
<span class="p">(</span><span class="n">base</span><span class="p">)</span> <span class="n">user_name</span><span class="nd">@device_name</span><span class="p">:</span><span class="o">~/</span><span class="n">vscode</span><span class="o">/</span><span class="n">project</span><span class="err">$</span> <span class="n">npm</span> <span class="n">install</span> <span class="n">phaser</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First, we initialize our packages and prepare them for necessary installations. Then, from the packages, we install Phaser.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Create-Your-First-Phaser-Game">Create Your First Phaser Game<a class="anchor-link" href="#Create-Your-First-Phaser-Game"> </a></h3><p>Now that Phaser is installed, you'll want to create the frontend where the game will run. To do that, we'll create the following HTML:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;//cdn.jsdelivr.net/npm/phaser@3.51.0/dist/phaser.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;assets/js/script.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that the HTML is created, we can move on the JavaScript code. We want to create a configuration for our game that will tell the site how to run things and where. To do that, we'll create the following variable:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">var</span> <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Phaser</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
    <span class="n">scene</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">preload</span><span class="p">:</span> <span class="n">preload</span><span class="p">,</span>
        <span class="n">create</span><span class="p">:</span> <span class="n">create</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Answer these questions:</p>
<ul>
<li><p>What type of variable is <code>config</code>?</p>
</li>
<li><p>What do the letiables <code>width</code> and <code>height</code> do?</p>
</li>
<li><p>What type of letiable is <code>scene</code>?</p>
</li>
<li><p>In your own words, what does <code>config</code> do?</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When you run this code, you'll run into an error. The console will let you know that you haven't defined the functions <code>preload()</code> or <code>create()</code> even though you called them. These functions, along with some extra lines of code, will be what runs the game, and we need to make those. To do that, we'll create the following JS:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">let</span> <span class="n">game</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Phaser</span><span class="o">.</span><span class="n">Game</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>

<span class="n">function</span> <span class="n">preload</span> <span class="p">()</span>
<span class="p">{</span>
    
<span class="p">}</span>

<span class="n">function</span> <span class="n">create</span> <span class="p">()</span>
<span class="p">{</span>
    
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We are so close to finishing our first game! However, when you run the code, you'll notice that the scene is to the left of the screen, but we want to put it in the center. To do that, let's update our HTML:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;//cdn.jsdelivr.net/npm/phaser@3.51.0/dist/phaser.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&quot;stylesheet&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;assets/css/style.css&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;assets/js/script.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">canvas</span><span class="o">&gt;&lt;/</span><span class="n">canvas</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's also update our CSS with the following lines:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">&lt;!</span>--Ignore the style tags, just put the rest in your CSS file--&gt;
<span class="o">&lt;</span><span class="n">style</span><span class="o">&gt;</span>
<span class="n">canvas</span> <span class="p">{</span>
    <span class="n">display</span><span class="p">:</span> <span class="n">block</span><span class="p">;</span>
    <span class="n">margin</span><span class="p">:</span> <span class="mi">0</span> <span class="n">auto</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And finally, check our JS to make sure we are set:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">var</span> <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Phaser</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="mi">570</span><span class="p">,</span> <span class="o">//</span> <span class="n">I</span> <span class="n">found</span> <span class="n">that</span> <span class="n">this</span> <span class="n">game</span> <span class="n">height</span> <span class="n">fits</span> <span class="n">better</span> <span class="n">on</span> <span class="n">desktop</span> <span class="n">view</span>
    <span class="n">scene</span><span class="p">:</span> <span class="p">{</span>
      <span class="n">preload</span><span class="p">:</span> <span class="n">preload</span><span class="p">,</span>
      <span class="n">create</span><span class="p">:</span> <span class="n">create</span>
    <span class="p">}</span>
  <span class="p">};</span>  

<span class="n">var</span> <span class="n">game</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Phaser</span><span class="o">.</span><span class="n">Game</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>

<span class="n">function</span> <span class="n">preload</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="n">function</span> <span class="n">create</span><span class="p">()</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">Extra</span> <span class="n">code</span> <span class="n">I</span> <span class="n">made</span> <span class="n">to</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">background</span> <span class="n">colour</span> <span class="n">to</span> <span class="n">something</span> <span class="k">else</span>
  <span class="n">this</span><span class="o">.</span><span class="n">cameras</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">setBackgroundColor</span><span class="p">(</span><span class="s1">&#39;#1c4c87&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Give yourself a pat on the back! Although it isn't much, you've just created your first game in JavaScript. From here, the possibilites of games are only limited to your imagination.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Movement">Movement<a class="anchor-link" href="#Movement"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we've created the basis for our game to run, we can start implementing the key mechanics of every game into ours. The first is movement. However, to display movement, we need to create something in the scene to move. To that, we can create shapes in the scene. There are 3 main shapes we can create: Rectangles, circles, and ellipses.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Basic-Shapes">Basic Shapes<a class="anchor-link" href="#Basic-Shapes"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To create a rectangle, put the following JS in to your <code>create()</code> method:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">var</span> <span class="n">graphics</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">graphics</span><span class="p">();</span> <span class="o">//</span> <span class="n">Grabbing</span> <span class="n">the</span> <span class="n">graphics</span> <span class="n">code</span> <span class="kn">from</span> <span class="nn">Phaser</span> <span class="n">to</span> <span class="n">use</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">fillStyle</span><span class="p">(</span><span class="mh">0xFF0000</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">colour</span> <span class="n">to</span> <span class="n">red</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">Replace</span> <span class="k">with</span> <span class="n">your</span> <span class="n">own</span> <span class="n">variables</span> <span class="n">to</span> <span class="n">see</span> <span class="n">what</span> <span class="n">works</span> <span class="n">best</span> <span class="k">for</span> <span class="n">you</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Variables are something we've learned about that we can implement in our game. Let's define the variables <code>x, y, width, height</code> at the beginning of our JS:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">375</span>
<span class="n">let</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">260</span>
<span class="n">let</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="n">let</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>At this point, you should have a rectangle (square) in the middle of your screen. Let's move on to the other shapes. To create a circle, replace the rectangle code with the following JS in your <code>create()</code> method:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">var</span> <span class="n">graphics</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">graphics</span><span class="p">();</span> <span class="o">//</span> <span class="n">Phaser</span> <span class="n">graphics</span> <span class="n">library</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">fillStyle</span><span class="p">(</span><span class="mh">0x00FF00</span><span class="p">);</span> <span class="o">//</span> <span class="n">Fill</span> <span class="n">colour</span> <span class="n">of</span> <span class="n">green</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">fillCircle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">);</span> <span class="o">//</span> <span class="n">Drawing</span> <span class="n">circle</span> <span class="n">at</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You'll also want to update your variables so that there is a defined radius, and you'll also want to center the x and y:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
<span class="n">let</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">285</span><span class="p">;</span>
<span class="n">let</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="n">let</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="n">let</span> <span class="n">radius</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After running the code altogether, you'll be able to see a green circle in the center. Finally, we need to create an ellipse. However, creating an ellipse is similar to a rectangle. Use the following JS:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">var</span> <span class="n">graphics</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">graphics</span><span class="p">();</span> <span class="o">//</span> <span class="n">PGL</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">fillStyle</span><span class="p">(</span><span class="mh">0x0000FF</span><span class="p">);</span> <span class="o">//</span> <span class="n">Fill</span> <span class="n">colour</span> <span class="n">of</span> <span class="n">blue</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">fillEllipse</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">Drawing</span> <span class="n">the</span> <span class="n">ellipse</span>

<span class="o">//</span> <span class="n">I</span> <span class="n">made</span> <span class="n">the</span> <span class="n">width</span> <span class="n">equal</span> <span class="n">to</span> <span class="mi">100</span> <span class="n">to</span> <span class="n">illustrate</span> <span class="n">the</span> <span class="n">difference</span> <span class="n">between</span> <span class="n">a</span> <span class="n">circle</span> <span class="ow">and</span> <span class="n">an</span> <span class="n">ellipse</span><span class="p">,</span> <span class="n">I</span> <span class="n">suggest</span> <span class="n">you</span> <span class="n">do</span> <span class="n">too</span><span class="o">.</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You now know how to create shapes in Phaser. Now, let's get into the actual movement.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First, we need to update our variables. We need to create an object for our player, as well as define booleans to check whether or not we are moving. To do that, let's update our variables at the top:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
<span class="n">let</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">285</span><span class="p">;</span>
<span class="n">let</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">let</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="n">let</span> <span class="n">radius</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="n">let</span> <span class="n">rectangle</span><span class="p">;</span>
<span class="n">let</span> <span class="n">speed</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="n">var</span> <span class="n">movement</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">up</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="n">down</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="n">left</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="n">right</span><span class="p">:</span> <span class="n">false</span>
<span class="p">};</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now in our config, we only have methods to preload and create our scene. This means that nothing will happen during runtime. We want the game to continuously detect input and move the player accordingly. To do that, we can edit the <code>config</code> object to include an update method:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">var</span> <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Phaser</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="mi">570</span><span class="p">,</span>
    <span class="n">scene</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">preload</span><span class="p">:</span> <span class="n">preload</span><span class="p">,</span>
        <span class="n">create</span><span class="p">:</span> <span class="n">create</span><span class="p">,</span>
        <span class="n">update</span><span class="p">:</span> <span class="n">update</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, since we want out movement to be continuous and smooth instead of snappy and harsh, we want to detect when the key is up and when the key is down as opposed to only when the key is pressed. To do that, let's add the following JS to our <code>create()</code> method:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">this</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">keyboard</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s1">&#39;keydown&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">var</span> <span class="n">key</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">;</span>
    <span class="n">updateMovement</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">true</span><span class="p">);</span>
<span class="p">});</span>

<span class="n">this</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">keyboard</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s1">&#39;keyup&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">var</span> <span class="n">key</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">;</span>
    <span class="n">updateMovement</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">false</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As mentioned above, we need our <code>update()</code> method in order to keep the game's input and output running in real time. To do that, let's first create our update method:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">function</span> <span class="n">update</span><span class="p">()</span> <span class="p">{</span>
    
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then, in the <code>update()</code> method, let's make conditional statements checking if our <code>movement</code> object's directions are true:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">up</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">down</span><span class="p">)</span> <span class="p">{</span>
    
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="p">{</span>
    
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In each conditional, we want to move the player by the speed. To do that, let's add lines that increase or decrease the positions by the speed:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">up</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">y</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">down</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Great job! Now, you may have noticed we haven't actually created the rectangle yet. This is because doing so is a bit different. For now, create a rectangle in the <code>create()</code> method using what you know.</p>
<p>Now when you run the code, you'll find that your player is a pen, and its drawing in a rectangle pattern all over the scene. This can be useful in some ways, but for most use cases, including this one, we don't want that. Instead, we want to keep only the player with the current position on the screen. To do that, we can clear the scene every frame. Let's add that to our code, right above our rectangle creation:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rectangle</span><span class="o">.</span><span class="n">clear</span><span class="p">();</span> <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">line</span> <span class="n">of</span> <span class="n">code</span> <span class="n">that</span> <span class="n">was</span> <span class="n">just</span> <span class="n">talked</span> <span class="n">about</span>
<span class="n">rectangle</span><span class="o">.</span><span class="n">fillStyle</span><span class="p">(</span><span class="mh">0xFF0000</span><span class="p">);</span> <span class="o">//</span> <span class="n">Fill</span> <span class="n">colour</span> <span class="ow">is</span> <span class="n">red</span><span class="o">.</span>
<span class="n">rectangle</span><span class="o">.</span><span class="n">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">Draw</span> <span class="n">the</span> <span class="n">player</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With everything combined, give yourself another pat on the back. Not only do you have a Phaser environment and scene working, you also have a player on screen that can move on input!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Physics-&amp;-Collision">Physics &amp; Collision<a class="anchor-link" href="#Physics-&amp;-Collision"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Right now, we have a player that moves with input. Not much going on. But, two key mechanics in game development we can add here are physics and collision.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Collision">Collision<a class="anchor-link" href="#Collision"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>One of the first things you might notice when running the game is that the player is able to move outside of the scene. We want to restrict the movement of our player according to the borders. To do that, let's first check that our conditional statements in the <code>update()</code> movement are correct.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">up</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">y</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">down</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we know our input and movement code works, we need to add conditions inside each statements that will restrict the <code>x</code> position between 0 and the width of the scene, including the dimensions of the player. To do that, let's update the <code>movement.left</code> and <code>movement.right</code> conditionals as shown:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">up</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">y</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">down</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">left</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">right</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">config</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you run the code now, you'll see that the right and left borders are not able to be passed, but the upper and lower borders are. We want to make all borders of the scene impassable. To do that, let's apply the same logic to the <code>movement.up</code> and <code>movement.down</code> conditionals as well:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">up</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">y</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">down</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">config</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">height</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">left</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">right</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">config</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now you have working collision in Phaser! This can be used for so many things in whatever game you choose to make.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Physics">Physics<a class="anchor-link" href="#Physics"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Phaser comes with excellent physics capabilities. One of the best physics phenomena to simulate in a game is gravity. Let's do that.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To implement physics in our game, we first need to make some changes in our code. We need to change our rectangle code so that it is more object-oriented. To do that, update all code where you draw the player so that it makes the player an object instead of the graphics:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gfx</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">graphics</span><span class="p">();</span>
<span class="n">gfx</span><span class="o">.</span><span class="n">fillStyle</span><span class="p">(</span><span class="mh">0xFF0000</span><span class="p">);</span>
<span class="n">rectangle</span> <span class="o">=</span> <span class="n">gfx</span><span class="o">.</span><span class="n">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Also, make sure to define the variables at the beginning of your code if you haven't already. Now that we've prepped our newly object-oriented code, we can import Phaser's physics library. To do that, let's update our HTML to include Phaser's physics library:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;//cdn.jsdelivr.net/npm/phaser@3.51.0/dist/phaser.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;https://cdn.jsdelivr.net/npm/phaser@3.51.0/dist/phaser-arcade-physics.min.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&quot;stylesheet&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;assets/css/style.css&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;assets/js/script.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">canvas</span><span class="o">&gt;&lt;/</span><span class="n">canvas</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We also need to update <code>config</code> so that it includes the physics properties from the library. To do that, update <code>config</code> as shown:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">var</span> <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Phaser</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="mi">570</span><span class="p">,</span>
    <span class="n">physics</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">default</span><span class="p">:</span> <span class="s1">&#39;arcade&#39;</span><span class="p">,</span>
        <span class="n">arcade</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">gravity</span><span class="p">:</span> <span class="p">{</span> <span class="n">y</span><span class="p">:</span> <span class="mi">200</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">scene</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">preload</span><span class="p">:</span> <span class="n">preload</span><span class="p">,</span>
        <span class="n">create</span><span class="p">:</span> <span class="n">create</span><span class="p">,</span>
        <span class="n">update</span><span class="p">:</span> <span class="n">update</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We also need to add physics properties to the player that will enable gravity and world collision. To do that, add the following lines of code in your <code>create()</code> method:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rectangle</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="mh">0xFF0000</span><span class="p">);</span>
<span class="n">this</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">existing</span><span class="p">(</span><span class="n">rectangle</span><span class="p">);</span>
<span class="n">rectangle</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">collideWorldBounds</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now when you run your code, you'll see that gravity is working in a way that makes the game feel like somewhat of a platformer. However, the jumping is very wonky. We want to make it so that jumping is not available to the player when in the air. To do that, make sure your <code>update()</code> method looks like this:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">left</span> <span class="o">&amp;&amp;</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">rectangle</span><span class="o">.</span><span class="n">x</span> <span class="o">-=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">right</span> <span class="o">&amp;&amp;</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">config</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">rectangle</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we have clean slate for the jumping mechanic, we need add an upward force to our y-position whenever the W key is pressed. To do that, add the following conditional statement to your <code>update()</code> method:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">up</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">rectangle</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">setVelocityY</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you run your code now, you'll see that you now have jumping in your game. Although, there are two problems with jumping. The first is that it is slow. To fix this, we can simply increase both the velocity number as well as the gravity. Using what you know, make a variable for the jumping velocity (Hint: I called it jumpForce, but you can call it whatever you like).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The second problem we face is that the player cannot jump even when they are not touching the ground. Unless you're making something like Flappy Bird, you may not want this. We can fix this by checking if the player is touching the ground. To do that, let's update the jumping conditional:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">movement</span><span class="o">.</span><span class="n">up</span> <span class="o">&amp;&amp;</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">config</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">height</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">rectangle</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">setVelocityY</span><span class="p">(</span><span class="n">jumpForce</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Remember, if you have a Flappy Bird mechanic in your own game, you do not need to make the following change. It is completely fine if you're jumping works as previously seen, but it is your choice.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Bonus-Features">Bonus Features<a class="anchor-link" href="#Bonus-Features"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You've learned a lot about Phaser in this lesson. However, considering how much Phaser is capable of, it's just the tip of the iceberg. In the Hack Helper, you'll find a link to Phaser documentation. In there, you'll learn about two things in particular mentioned in the hacks. Happy hacking!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Hacks">Hacks<a class="anchor-link" href="#Hacks"> </a></h1><ul>
<li>Simulate movement in Phaser using the arrow keys instead of WASD. <em>(0.675)</em></li>
<li>Physics is a key mechanic in game development. Using what you know about Phaser physics, simulate a real-life phenomenon related to physics (gravity is already taken) in your game (ex. projectile motion). <em>(0.675)</em></li>
<li>Collision is an essential game mechanic in a almost every game out there. Using what you've learned about collision in Phaser, simulate collision detection between two shapes where they cannot occupy the same space. <em>(0.675)</em></li>
<li>From the Phaser documentation, import a Phaser image of your choice and implement a particle system in your game. If you want to use Phaser's example code for this hack, you may do so, but you must explain how it works. <em>(0.675)</em></li>
<li>Extra: Recreate a game in Phaser. It can be anywhere as simple as Adventure to something as complex as Among Us. <em>(0.675)</em></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Hack-Helper">Hack Helper<a class="anchor-link" href="#Hack-Helper"> </a></h1><ol>
<li>Here is the <a href="https://photonstorm.github.io/phaser3-docs/#toc9__anchors">official Phaser documentation</a>.</li>
<li>Here is the code that I used in my simple game that implements all that I taught in the lesson:</li>
</ol>

</div>
</div>
</div>
</div>
 

